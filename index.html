<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>2D Fluid Simulator using OpenGL | 2DFluidSimulation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">2DFluidSimulation</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          2D Fluid Simulator using OpenGL
        </h1>
<p>This project is an implementation of an eulerian fluid simulation on GPU using OpenGL 4.3 compute shaders capabilities.</p><h3>Getting Started</h3><p>You will first need to clone the repository and then init the submodules</p><pre class="m-code"><span class="n">git</span> <span class="n">clone</span> <span class="nl">https</span><span class="p">:</span><span class="c1">//github.com/cgurps/2DFluidSimulation.git [PROJECT_FOLDER]</span>
<span class="n">cd</span> <span class="p">[</span><span class="n">PROJECT_FOLDER</span><span class="p">]</span>
<span class="n">git</span> <span class="n">submodule</span> <span class="n">update</span> <span class="o">--</span><span class="n">init</span></pre><p>To compile the project, you will need OpenGL with a version above 4.3 in order to get compute shader capabilities. You will also need <a href="https://www.boost.org/">Boost</a> installed on your machine. To project uses CMake to generate the Makefile needed for the compilation. You can use these commands to build the executable</p><pre class="m-code"><span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="p">..</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j</span> <span class="p">[</span><span class="n">YOUR_NUMBER_OF_CORES</span><span class="p">]</span></pre><p>You can query the program options using <code>-h</code>.</p><h3>Implementation</h3><p>Each quantities is represented by a texture of 16bits floating points on the GPU. For exact texels query, I use the texelFetch method (which runs faster than using texture2D) and then handle the boundary cases by hand. The bilinear interpolation for the advection step is also computed by hand for better accuracy. The implementation contains three main classes:</p><ol><li><code><a href="classGLFWHandler.html" class="m-doc">GLFWHandler</a></code> is the GLFW wrapper that contains the OpenGL initilization and the main program loop</li><li><code><a href="classSimulationBase.html" class="m-doc">SimulationBase</a></code> which is a pure virtual function that gives the interface for the simulation. The main loop of the program accesses the <code>shared_texture</code> variable and display the associated texture on screen. This is where the various textures are created and stored.</li><li><code><a href="classSimulationFactory.html" class="m-doc">SimulationFactory</a></code> which contains helpers for computing steps of the simulation (like advection, pressure projection, etc). This class does not allocate GPU memory, but is instead feeded by the simulation loop.</li></ol><p>If you (ever) wish to play around this simulation, you should create a new class that inherits from <code><a href="classSimulationBase.html" class="m-doc">SimulationBase</a></code> and uses the <code><a href="classSimulationFactory.html" class="m-doc">SimulationFactory</a></code> to compute whatever you need to compute. This new class must overload <code>Init()</code>, <code>Update()</code>, <code>AddSplat()</code>, <code>AddSplat(const int)</code> and <code>RemoveSplat()</code> for the simulation to work.</p><h3>References</h3><ol><li><a href="http://jamie-wong.com/2016/08/05/webgl-fluid-simulation/">LINK</a>: a simple tutorial on fluid simulation</li><li><a href="https://www.cs.ubc.ca/~rbridson/fluidsimulation/fluids_notes.pdf">LINK</a>: this awesome books covers a lot of techniques for simulating fluids (classic!)</li><li><a href="https://cg.informatik.uni-freiburg.de/intern/seminar/gridFluids_GPU_Gems.pdf">LINK</a>: 2D fluids from GPU gems 1</li><li><a href="https://www.cs.cmu.edu/~kmcrane/Projects/GPUFluid/">LINK</a>: 3D fluids from GPU gems 3</li><li><a href="http://physbam.stanford.edu/~fedkiw/papers/stanford2006-09.pdf">LINK</a>: the Maccormack method</li><li><a href="https://pdfs.semanticscholar.org/e1b5/f19526125df4de425f00f74a5271898e3258.pdf">LINK</a>: this article explains the reverse method to handle extremas generated by the Maccormack scheme</li><li><a href="https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods">LINK</a>: The Runge Kutta method for the particle advection in the semi-Lagragian approach</li></ol><h3>Nice github projects</h3><ol><li><a href="https://github.com/tunabrain/gpu-fluid">tunabrain/<wbr />gpu-fluid</a>: 2D fluid simulation on the GPU using an hydrid approach (FLIP)</li><li><a href="https://github.com/PavelDoGreat/WebGL-Fluid-Simulation">PavelDoGreat/<wbr />WebGL-Fluid-Simulation</a>: online fluid simulation</li></ol>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>2DFluidSimulation. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.15 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
